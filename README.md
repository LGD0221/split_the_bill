# split_the_bill
Split The Bill 是一个智能分账系统，帮助朋友、同事或舍友等在已各自支付一部分的费用的集体消费后公平、快速地分摊费用。系统支持多人参与、多笔支付记录和权重分配，确保每个人根据实际情况支付合理的金额。

## 功能特点

- **多人分账**：支持任意人数参与分账
- **权重分配**：可根据消费情况设置不同权重（如食量不同）
- **多笔支付**：每人可输入多笔已支付金额
- **智能结算**：自动计算最优转账方案
- **清晰展示**：详细展示每人应付金额及转账方案

## 使用说明

### 运行环境
- Python 3.x

### 使用步骤
1. 输入总人数
2. 为每个参与者输入：
   - 姓名（必填）
   - 已支付的金额（多笔金额用空格分隔）
   - 权重（默认为1，按实际需求调整）
3. 系统自动计算并显示：
   - 总消费金额
   - 每人应付金额
   - 最优转账方案

### 示例输入
```
请输入总人数：3

第1人
请输入姓名：Alice
请输入金额，多项用空格分隔：100 50
请输入权重，留空为1：1.5

第2人
请输入姓名：Bob
请输入金额，多项用空格分隔：80
请输入权重，留空为1：1

第3人
请输入姓名：Charlie
请输入金额，多项用空格分隔：70
请输入权重，留空为1：0.5
```

### 示例输出
```
总金额300.0元
Alice需支付150.0元
Bob需支付100.0元
Charlie需支付50.0元

转账方案：
Bob向Alice转账20.0元
Charlie向Alice转账30.0元
```

## 算法说明

系统使用基于权重的公平分账算法：
1. 计算总消费金额
2. 根据权重比例计算每人应付金额
3. 目前使用max-centered算法（以实付款最多的人为中心转账）优化转账方案。
4. 生成较少转账次数的解决方案

权重说明：权重越高表示应承担更多费用，例如：
- 食量大的人权重设为1.5
- 普通消费权重设为1.0
- 食量小的人权重设为0.5


## 贡献与改进
欢迎提出改进建议！如有任何问题或功能需求，请在issue中提出。